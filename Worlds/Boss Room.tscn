[gd_scene load_steps=20 format=2]

[ext_resource path="res://Entities/Player.tscn" type="PackedScene" id=1]
[ext_resource path="res://Furniture/Elevator.tscn" type="PackedScene" id=2]
[ext_resource path="res://Furniture/MeshLibrary.tres" type="MeshLibrary" id=3]
[ext_resource path="res://assets/Furniture/wall.obj" type="ArrayMesh" id=4]
[ext_resource path="res://Worlds/Self-Destruct Button.gd" type="Script" id=5]
[ext_resource path="res://Worlds/Maintenance.gd" type="Script" id=6]

[sub_resource type="NavigationMesh" id=1]

[sub_resource type="SpatialMaterial" id=4]
albedo_color = Color( 0.294118, 0.294118, 0.294118, 1 )

[sub_resource type="BoxShape" id=2]
extents = Vector3( 2, 2, 2 )

[sub_resource type="BoxShape" id=57]
extents = Vector3( 0.5, 1.5, 0.5 )

[sub_resource type="CubeMesh" id=58]
size = Vector3( 1.4, 3, 1.4 )

[sub_resource type="SpatialMaterial" id=62]
metallic = 1.0

[sub_resource type="CubeMesh" id=55]
size = Vector3( 1, 1, 0.2 )

[sub_resource type="SpatialMaterial" id=56]
metallic = 0.79
roughness = 0.75

[sub_resource type="CubeMesh" id=10]
size = Vector3( 0.75, 0.75, 0.5 )

[sub_resource type="SpatialMaterial" id=11]
albedo_color = Color( 1, 0, 0, 1 )

[sub_resource type="BoxShape" id=59]
extents = Vector3( 1.2, 1.2, 0.7 )

[sub_resource type="Animation" id=60]
resource_name = "Press"
length = 0.2
tracks/0/type = "value"
tracks/0/path = NodePath("Button:translation")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/keys = {
"times": PoolRealArray( 0, 0.2 ),
"transitions": PoolRealArray( 1, 1 ),
"update": 0,
"values": [ Vector3( 0, 0, -0.200002 ), Vector3( 0, 0, 0.0999985 ) ]
}

[sub_resource type="Animation" id=61]
length = 0.001
tracks/0/type = "value"
tracks/0/path = NodePath("Button:translation")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/keys = {
"times": PoolRealArray( 0 ),
"transitions": PoolRealArray( 1 ),
"update": 0,
"values": [ Vector3( 0, 0, -0.200002 ) ]
}

[node name="Boss Room" type="Spatial"]
script = ExtResource( 6 )

[node name="Entities" type="Spatial" parent="."]

[node name="Player" parent="Entities" instance=ExtResource( 1 )]
transform = Transform( -1, 0, -8.74228e-08, 0, 1, 0, 8.74228e-08, 0, -1, 0, 3.7, -22 )

[node name="Navigable" type="NavigationMeshInstance" parent="."]
navmesh = SubResource( 1 )

[node name="Elevator" parent="Navigable" instance=ExtResource( 2 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 2, -24 )

[node name="MeshInstance" parent="Navigable/Elevator" index="0"]
material/0 = SubResource( 4 )

[node name="GridMap" type="GridMap" parent="Navigable"]
mesh_library = ExtResource( 3 )
cell_size = Vector3( 4, 4, 4 )
data = {
"cells": PoolIntArray( 0, 0, 2, 1, 0, 2, 2, 0, 2, 3, 0, 2, 65532, 0, 2, 65533, 0, 2, 65534, 0, 2, 65535, 0, 2, 196608, 0, 1, 196609, 0, 1, 196610, 0, 1, 196611, 0, 1, 262140, 0, 1, 262141, 0, 1, 262142, 0, 1, 262143, 0, 1, 0, 1, 2, 1, 1, 2, 2, 1, 2, 3, 1, 2, 65532, 1, 2, 65533, 1, 2, 65534, 1, 2, 65535, 1, 2, 196608, 1, 1, 196609, 1, 1, 196610, 1, 1, 196611, 1, 1, 262140, 1, 1, 262141, 1, 1, 262142, 1, 1, 262143, 1, 1, 0, 2, 2, 1, 2, 2, 2, 2, 2, 3, 2, 2, 65532, 2, 2, 65533, 2, 2, 65534, 2, 2, 65535, 2, 2, 196608, 2, 1, 196609, 2, 1, 196610, 2, 1, 196611, 2, 1, 262140, 2, 1, 262141, 2, 1, 262142, 2, 1, 262143, 2, 1, 0, 3, 2, 1, 3, 2, 2, 3, 2, 3, 3, 2, 65532, 3, 2, 65533, 3, 2, 65534, 3, 2, 65535, 3, 2, 196608, 3, 1, 196609, 3, 1, 196610, 3, 1, 196611, 3, 1, 262140, 3, 1, 262141, 3, 1, 262142, 3, 1, 262143, 3, 1, 0, 65532, 2, 1, 65532, 2, 2, 65532, 2, 3, 65532, 2, 65532, 65532, 2, 65533, 65532, 2, 65534, 65532, 2, 65535, 65532, 2, 196608, 65532, 1, 196609, 65532, 1, 196610, 65532, 1, 196611, 65532, 1, 262140, 65532, 1, 262141, 65532, 1, 262142, 65532, 1, 262143, 65532, 1, 0, 65533, 2, 1, 65533, 2, 2, 65533, 2, 3, 65533, 2, 65532, 65533, 2, 65533, 65533, 2, 65534, 65533, 2, 65535, 65533, 2, 196608, 65533, 1, 196609, 65533, 1, 196610, 65533, 1, 196611, 65533, 1, 262140, 65533, 1, 262141, 65533, 1, 262142, 65533, 1, 262143, 65533, 1, 0, 65534, 2, 1, 65534, 2, 2, 65534, 2, 3, 65534, 2, 65532, 65534, 2, 65533, 65534, 2, 65534, 65534, 2, 65535, 65534, 2, 196608, 65534, 1, 196609, 65534, 1, 196610, 65534, 1, 196611, 65534, 1, 262140, 65534, 1, 262141, 65534, 1, 262142, 65534, 1, 262143, 65534, 1, 0, 65535, 2, 1, 65535, 2, 2, 65535, 2, 3, 65535, 2, 65532, 65535, 2, 65533, 65535, 2, 65534, 65535, 2, 65535, 65535, 2, 196608, 65535, 1, 196609, 65535, 1, 196610, 65535, 1, 196611, 65535, 1, 262140, 65535, 1, 262141, 65535, 1, 262142, 65535, 1, 262143, 65535, 1 )
}
__meta__ = {
"_editor_clip_": 0,
"_editor_floor_": Vector3( 0, 3, 0 )
}

[node name="Wall" type="StaticBody" parent="Navigable"]
transform = Transform( -3.14315e-06, 0, 8, 0, 4, 0, -1, 0, -2.51452e-05, 0.000389099, 2, 18 )
__meta__ = {
"_edit_group_": true
}

[node name="MeshInstance" type="MeshInstance" parent="Navigable/Wall"]
transform = Transform( 1, 0, 2.91038e-11, 0, 1, 0, 0, 0, 1, 0, 0, 0 )
mesh = ExtResource( 4 )
material/0 = SubResource( 4 )

[node name="CollisionShape" type="CollisionShape" parent="Navigable/Wall"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 2, 0 )
shape = SubResource( 2 )

[node name="Wall4" type="StaticBody" parent="Navigable"]
transform = Transform( -3.14315e-06, 0, 2, 0, 4, 0, -1, 0, -6.28631e-06, 12.0004, 2, -18 )
__meta__ = {
"_edit_group_": true
}

[node name="MeshInstance" type="MeshInstance" parent="Navigable/Wall4"]
transform = Transform( 1, 0, 2.91038e-11, 0, 1, 0, 0, 0, 1, 0, 0, 0 )
mesh = ExtResource( 4 )
material/0 = SubResource( 4 )

[node name="CollisionShape" type="CollisionShape" parent="Navigable/Wall4"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 2, 0 )
shape = SubResource( 2 )

[node name="Wall5" type="StaticBody" parent="Navigable"]
transform = Transform( -3.14315e-06, 0, 2, 0, 4, 0, -1, 0, -6.28631e-06, -11.9996, 2, -18 )
__meta__ = {
"_edit_group_": true
}

[node name="MeshInstance" type="MeshInstance" parent="Navigable/Wall5"]
transform = Transform( 1, 0, 2.91038e-11, 0, 1, 0, 0, 0, 1, 0, 0, 0 )
mesh = ExtResource( 4 )
material/0 = SubResource( 4 )

[node name="CollisionShape" type="CollisionShape" parent="Navigable/Wall5"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 2, 0 )
shape = SubResource( 2 )

[node name="Wall2" type="StaticBody" parent="Navigable"]
transform = Transform( -1, 0, -2.54949e-05, 0, 4, 0, 3.18686e-06, 0, -8, 18.0004, 2, 0 )
__meta__ = {
"_edit_group_": true
}

[node name="MeshInstance" type="MeshInstance" parent="Navigable/Wall2"]
transform = Transform( 1, 0, 2.91038e-11, 0, 1, 0, 0, 0, 1, 0, 0, 0 )
mesh = ExtResource( 4 )
material/0 = SubResource( 4 )

[node name="CollisionShape" type="CollisionShape" parent="Navigable/Wall2"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 2, 0 )
shape = SubResource( 2 )

[node name="Wall3" type="StaticBody" parent="Navigable"]
transform = Transform( -1, 0, -2.54949e-05, 0, 4, 0, 3.18686e-06, 0, -8, -17.9996, 2, 0 )
__meta__ = {
"_edit_group_": true
}

[node name="MeshInstance" type="MeshInstance" parent="Navigable/Wall3"]
transform = Transform( 1, 0, 2.91038e-11, 0, 1, 0, 0, 0, 1, 0, 0, 0 )
mesh = ExtResource( 4 )
material/0 = SubResource( 4 )

[node name="CollisionShape" type="CollisionShape" parent="Navigable/Wall3"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 2, 0 )
shape = SubResource( 2 )

[node name="Decoration" type="Spatial" parent="."]

[node name="Objects" type="Spatial" parent="."]

[node name="StaticBody" type="StaticBody" parent="Objects"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 4, 0 )

[node name="CollisionShape" type="CollisionShape" parent="Objects/StaticBody"]
shape = SubResource( 57 )

[node name="MeshInstance" type="MeshInstance" parent="Objects/StaticBody"]
mesh = SubResource( 58 )
material/0 = SubResource( 62 )

[node name="Button" type="MeshInstance" parent="Objects"]
transform = Transform( 1, 0, 0, 0, -4.37114e-08, -1, 0, 1, -4.37114e-08, -1.78814e-07, 5.6, 0 )
mesh = SubResource( 55 )
material/0 = SubResource( 56 )
script = ExtResource( 5 )

[node name="Button" type="MeshInstance" parent="Objects/Button"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, -0.200002 )
mesh = SubResource( 10 )
material/0 = SubResource( 11 )

[node name="Area" type="Area" parent="Objects/Button"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -2.62269e-08, -0.6 )

[node name="CollisionShape" type="CollisionShape" parent="Objects/Button/Area"]
shape = SubResource( 59 )

[node name="AnimationPlayer" type="AnimationPlayer" parent="Objects/Button"]
anims/Press = SubResource( 60 )
anims/RESET = SubResource( 61 )

[connection signal="body_entered" from="Objects/Button/Area" to="Objects/Button" method="_on_Area_body_entered"]
[connection signal="body_exited" from="Objects/Button/Area" to="Objects/Button" method="_on_Area_body_exited"]

[editable path="Navigable/Elevator"]
